<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../../subway_ui.css" />
    <style>
    body { font-family: sans-serif; }
    #tab_bar { width: 6em; }
    #widget_set span { font-size: 3em; margin: 0.3em; }
    </style>
    <script type="text/javascript" src="../../simple.js"></script>
    <script type="text/javascript" src="../../subway_ui.js"></script>
    <script type="text/javascript">
    var test_tab_bar, test_widget_set, add, tabs, count = 3;
    function init(){
	assignGlobalObjects({
	    test_tab_bar: '#tab_bar',
	    test_widget_set: '#widget_set',
	    checkbox: '#checkbox',
	    add: '#add'    
	});
	tabs = new Binding.TabWidget(test_tab_bar, test_widget_set);
	tabs.addTab(create('span', '1'), 'Tab_1');
	tabs.addTab(create('span', '2'), 'Tab_2');
	tabs.addTab(create('span', '3'), 'Tab_3');
	add.addEventListener('click', function(){
	    count++;
	    var tab = create('span', String(count));
	    tabs.addTab(tab, printf('Tab_%1', count));
	});
	checkbox.addEventListener('change', function(){
	    test_tab_bar.item_draggable = this.checked;
	});
    }
    window.addEventListener('load', init);
    </script>
    <title>TabWidget Test</title>
  </head>
  <body>
    <layout-container>
      <layout-vbox>
	<layout-cell>
	  <layout-hbox>
	    <layout-cell fixed="fixed">
	      <widget-tab-bar id="tab_bar" layout="vertical"></widget-tab-bar>
	    </layout-cell>
	    <layout-cell>
	      <widget-set id="widget_set"></widget-set>
	    </layout-cell>
	  </layout-hbox>
	</layout-cell>
	<layout-cell fixed="fixed">
	  <layout-hbox style="justify-content: space-between;">
	    <layout-cell>
	      <button id="add">Add a new tab</button>
	    </layout-cell>
	    <layout-cell fixed="fixed">
	      <input type="checkbox" id="checkbox">Draggable</input>
	    </layout-cell>
	  </layout-hbox>
	</layout-cell>
      </layout-vbox>
    </layout-container>
  </body>
</html>
